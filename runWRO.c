#pragma config(UserModel, "/ports_setup.h")
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

bool startedClose = true; // Variable to store which side the robot starts on, true if close, false if far
bool skipGreenBlueStack = true; // Variable to store if we are skipping the green and blue stack
bool consistentLastWater = false; // Variable to store if we are doing the last water connection consistently

// Importing files
#include "setup.c"									// Contains all the setup code
#include "misc_functions.c" 						// Contains all the miscellaneous functions
#include "sensing_functions.c" 						// Contains all the functions for sensing
#include "movement_functions.c" 					// Contains all the movement functions

#include "surprise_challenge.c"
#include "code.c"

//CODE:

task main()
{
	// Any other setup code is done
	resetMotors();									// Resets motors
	clearTimer(T1);									// Clears the timer for timing the run

	// Runs all the zones here
	//moveSimple(100, 100, 110, RELDEG);
	//turn1Motor(100, 94, RIGHT);
	//moveSimple(100, 100, 200, RELDEG);
	//moveSenseSimple(-20, -20, RED, 2, COLOR);
	//moveSimple(100, 100, 790, RELDEG);
	//turn1Motor(100, -90, LEFT);
	//turn1Motor(100, 135, RIGHT)
	//turn1Motor(100, 37, LEFT);
	//moveSimple(100, 100, 300, RELDEG);
	//moveSenseSimple(-20, -20, RED, 2, COLOR);
	//moveSimple(100, 100, 600, RELDEG);
	//lineFollow(30, 30, 700, 50, 0.1, 0.6, 100, 2, RELDEG);
	//turn2Motor(100, -100);
	//sleep(500);
	//return;
	code();
	//surpriseChallenge();

	// Time display after the challenge is finished
	displayCenteredBigTextLine(5, "%0.2f", (time100(T1)/10.0));

	// Sound after the challenge is finished
	if (time100(T1)>1200)
	{
		playSound(soundDownwardTones);				// Play negative sound if the challenge took too long
	}
	else
	{
		playSound(soundUpwardTones);				// PLay positive sound if the challenge was in time
	}

	sleep(10000);

	stopAllTasks();
}
